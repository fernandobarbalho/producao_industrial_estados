---
title: "produção industrial dos estados"
output: html_document
date: "2024-08-13"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(tidyverse)

producao_fisica_estados <- readRDS("~/github/producao_industrial_estados/producao_fisica_estados.rds")

```


```{r}
dados_grafico<-
  producao_fisica_estados %>%
  filter(estado %in% c("Rio Grande do Sul"),
         tipo_dado == "PIMPF - Variação mês/mês imediatamente anterior, com ajuste sazonal (M/M-1)") %>%
  mutate(posicao = as.character(posicao))

vjust_grafico <- ifelse(dados_grafico$valor > 0 , -0.5, 1)


dados_grafico %>%
  ggplot(aes(x=posicao, y=valor)) +
  geom_col() +
  geom_text(aes(label = paste0(valor,"%")), vjust = vjust_grafico, size= 3) +
  facet_wrap(estado~.) +
  theme_light() +
  theme(
    panel.grid = element_blank(),
    axis.text.x = element_text(angle = 90)
  ) +
  labs(x="",
       y="",
       title = "Variação da produção industrial em relação ao mês anterior")

```

